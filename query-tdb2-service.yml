- name: "set fact for query"
  set_fact:
    tdb2_sparql_query: "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX text: <http://jena.apache.org/text#>
SELECT ?S ?P ?O { WHERE { GRAPH <http://data.stadnamn.uib.no/stedsnavn/rygh> { ?S ?P ?O ;  text:query (rdfs:label 'Berg') }"

- name: "stop fuseki"
  systemd:
    name: "fuseki"
    state: "stopped"
  become: true

- name: " tdb2.tdbquery on /var/fuseki/databases/stedsnavn-data"
  shell: "/opt/jena/bin/tdb2.tdbquery --file example-query.sparql --desc=/var/fuseki/configuration/stedsnavn-data.ttl"
  become: true
  become_user: "fuseki"
  register: "fuseki_tdbquery_output"

- name: "view output of tdb2.tdbquery"
  debug:
    msg: "{{Â fuseki_tdbquery_output }}"

- name: "query tdb2 folder using tdb2.query"
  debug:
    msg: "test"
- name: "view database directory"
  debug:
    msg: "test"

